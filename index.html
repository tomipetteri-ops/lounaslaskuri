<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Paula & Tomi</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            background: white;
            overflow: hidden;
            width: 100vw;
            height: 100vh;
            font-family: 'Courier New', Courier, monospace;
        }

        /* Iframe täyttää koko ruudun */
        #dia-kehys {
            width: 100vw;
            height: 100vh;
            border: none;
            display: block;
        }

        /* Edistymispalkki alareunassa */
        #edistymispalkki {
            position: fixed;
            bottom: 0;
            left: 0;
            height: 4px;
            background: black;
            z-index: 100;
            transition: none;
        }
    </style>
</head>
<body>

    <iframe id="dia-kehys" src="laskuri.html"></iframe>
    <div id="edistymispalkki" style="width:0%"></div>

    <script>
        // ==========================================
        //  ASETUKSET — muuta näitä
        // ==========================================
        const DIAT = [
            { tiedosto: 'laskuri.html', aika: 60 },  // sekuntia
            { tiedosto: 'kuvat.html',   aika: 30 },
            { tiedosto: 'goals.html',   aika: 60 },
        ];
        // ==========================================

        let nykyinenDia = 0;
        let ajastin = null;

        function naytaDia(indeksi) {
            nykyinenDia = indeksi % DIAT.length;
            const dia = DIAT[nykyinenDia];

            // Vaihda iframe
            document.getElementById('dia-kehys').src = dia.tiedosto;

            // Edistymispalkki
            const palkki = document.getElementById('edistymispalkki');
            palkki.style.transition = 'none';
            palkki.style.width = '0%';
            setTimeout(() => {
                palkki.style.transition = 'width ' + dia.aika + 's linear';
                palkki.style.width = '100%';
            }, 50);

            // Ajastin seuraavaan diaan
            clearTimeout(ajastin);
            ajastin = setTimeout(() => naytaDia(nykyinenDia + 1), dia.aika * 1000);
        }

        // Käynnistys
        window.onload = () => naytaDia(0);

        // Fullscreen kun klikataan
        document.addEventListener('click', () => {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(() => {});
            }
        });
    </script>
</body>
</html>
